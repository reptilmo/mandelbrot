Base on the example from "Programming Rust" book, with some additions.
